<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Municipality Management - Citizen Dashboard</title>

  <!-- Stylesheets -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="../css/shared-theme.css" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --navy-1: #0D1117;
      --navy-2: #121A24;
      --navy-3: #19222F;
      --gold-primary: #D7B161;
      --gold-muted: #BFA15A;
      --text-white: #EDEDED;
      --text-grey: #B7B7B7;
      --font-heading: 'Playfair Display', serif;
      --font-body: 'Montserrat', sans-serif;
    }

    body {
      font-family: var(--font-body);
      background: var(--navy-1);
      color: var(--text-white);
      min-height: 100vh;
      line-height: 1.6;
    }

    .app {
      min-height: 100vh;
      background: linear-gradient(135deg, var(--navy-1) 0%, var(--navy-3) 60%);
    }

    /* Top Header / Navbar */
    .top-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: transparent;
      backdrop-filter: blur(10px);
      padding: 20px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
      transition: all 0.3s ease;
      border-bottom: 1px solid transparent;
    }

    .top-header.scrolled {
      background: rgba(13, 17, 23, 0.95);
      border-bottom: 1px solid rgba(215, 177, 97, 0.15);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .app-logo {
      height: 56px;
      width: auto;
      vertical-align: middle;
      filter: brightness(0) invert(1);
    }

    .brand-name-small {
      font-family: var(--font-heading);
      font-size: 20px;
      font-weight: 700;
      color: var(--gold-primary);
      letter-spacing: 2px;
    }

    .top-header h1 {
      font-family: var(--font-heading);
      font-size: 24px;
      font-weight: 600;
      color: var(--text-white);
      flex: 1;
      text-align: center;
      letter-spacing: 0.5px;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .icon-btn {
      background: transparent;
      border: none;
      color: var(--text-white);
      cursor: pointer;
      padding: 8px;
      border-radius: 8px;
      transition: all 0.3s ease;
      position: relative;
    }

    .icon-btn:hover {
      background: rgba(215, 177, 97, 0.1);
    }

    .icon {
      color: var(--gold-primary);
      font-size: 1.3rem;
      transition: all 0.3s ease;
    }

    .icon-btn .icon {
      color: var(--text-white);
    }

    .icon-btn:hover .icon {
      color: #f0d899;
      filter: drop-shadow(0 0 4px rgba(215, 177, 97, 0.4));
    }

    .notification-badge {
      position: absolute;
      top: 4px;
      right: 4px;
      background: var(--gold-primary);
      color: var(--navy-1);
      border-radius: 10px;
      padding: 2px 6px;
      font-size: 10px;
      font-weight: 600;
      min-width: 18px;
      text-align: center;
    }

    .logout-btn {
      padding: 10px 24px;
      background: transparent;
      color: var(--gold-primary);
      border: 1px solid rgba(215, 177, 97, 0.3);
      border-radius: 8px;
      font-family: var(--font-body);
      font-weight: 500;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      letter-spacing: 0.5px;
    }

    .logout-btn:hover {
      background: rgba(215, 177, 97, 0.1);
      border-color: var(--gold-primary);
      transform: translateY(-2px);
    }

    /* Main Content */
    .main-content {
      padding-top: 100px;
      min-height: 100vh;
    }

    .content-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 40px;
    }

    /* Welcome Section */
    .welcome-section {
      margin-bottom: 40px;
    }

    .welcome-card {
      background: linear-gradient(135deg, var(--navy-2) 0%, var(--navy-3) 100%);
      border: 1px solid rgba(215, 177, 97, 0.15);
      border-radius: 20px;
      padding: 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    }

    .welcome-card::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(215, 177, 97, 0.1) 0%, transparent 70%);
      pointer-events: none;
    }

    .welcome-card h2 {
      font-family: var(--font-heading);
      font-size: 42px;
      font-weight: 700;
      color: var(--text-white);
      margin-bottom: 12px;
      letter-spacing: 0.5px;
    }

    .welcome-card p {
      font-family: var(--font-body);
      font-size: 16px;
      color: var(--text-grey);
      font-weight: 400;
    }

    .user-avatar {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--gold-primary) 0%, var(--gold-muted) 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 24px rgba(215, 177, 97, 0.3);
      position: relative;
      z-index: 1;
    }

    .user-avatar .icon {
      color: var(--navy-1);
      font-size: 1.8rem;
    }

    /* Summary Cards */
    .summary-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
      margin-bottom: 40px;
    }

    .summary-card {
      background: linear-gradient(145deg, var(--navy-2), var(--navy-1));
      border: 1px solid rgba(215, 177, 97, 0.1);
      border-radius: 16px;
      padding: 28px;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .summary-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100px;
      height: 100px;
      background: linear-gradient(135deg, rgba(215, 177, 97, 0.1) 0%, transparent 100%);
      border-radius: 0 0 0 100%;
    }

    .summary-card:hover {
      transform: translateY(-4px);
      border-color: rgba(215, 177, 97, 0.3);
      box-shadow: 0 12px 40px rgba(215, 177, 97, 0.2);
    }

    .summary-card:hover .summary-icon {
      transform: scale(1.05);
      filter: drop-shadow(0 0 8px rgba(215, 177, 97, 0.6));
    }

    .summary-icon {
      width: 56px;
      height: 56px;
      background: rgba(215, 177, 97, 0.15);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      transition: all 0.3s ease;
    }

    .summary-icon .icon {
      color: var(--gold-primary);
      font-size: 1.3rem;
    }

    .summary-card:hover .summary-icon .icon {
      color: #f0d899;
      filter: drop-shadow(0 0 8px rgba(215, 177, 97, 0.6));
    }

    .summary-info {
      position: relative;
      z-index: 1;
    }

    .summary-value {
      font-family: var(--font-heading);
      font-size: 36px;
      font-weight: 700;
      color: var(--gold-primary);
      margin-bottom: 8px;
      letter-spacing: 0.5px;
    }

    .summary-label {
      font-family: var(--font-body);
      font-size: 14px;
      font-weight: 600;
      color: var(--text-white);
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .summary-detail {
      font-family: var(--font-body);
      font-size: 13px;
      color: var(--text-grey);
      font-weight: 400;
    }

    /* Quick Actions */
    .quick-actions {
      margin-bottom: 40px;
    }

    .quick-actions h3 {
      font-family: var(--font-heading);
      font-size: 28px;
      font-weight: 600;
      color: var(--text-white);
      margin-bottom: 24px;
      letter-spacing: 0.5px;
    }

    .action-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }

    .action-card {
      background: linear-gradient(145deg, var(--navy-2), var(--navy-1));
      border: 1px solid rgba(215, 177, 97, 0.1);
      border-radius: 16px;
      padding: 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .action-card:hover {
      transform: translateY(-4px);
      border-color: rgba(215, 177, 97, 0.3);
      box-shadow: 0 12px 40px rgba(215, 177, 97, 0.2);
    }

    .action-icon {
      width: 48px;
      height: 48px;
      background: rgba(215, 177, 97, 0.15);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .action-icon .icon {
      color: var(--gold-primary);
      font-size: 1.5rem;
    }

    .action-text {
      font-family: var(--font-body);
      font-size: 14px;
      font-weight: 600;
      color: var(--text-white);
      text-align: center;
    }

    /* Dashboard Sections */
    .dashboard-section {
      margin-bottom: 40px;
    }

    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 1px solid rgba(215, 177, 97, 0.15);
    }

    .section-header h3 {
      font-family: var(--font-heading);
      font-size: 28px;
      font-weight: 600;
      color: var(--text-white);
      letter-spacing: 0.5px;
      position: relative;
    }

    .section-header h3::after {
      content: '';
      position: absolute;
      bottom: -16px;
      left: 0;
      width: 60px;
      height: 2px;
      background: linear-gradient(90deg, var(--gold-primary), transparent);
    }

    .section-header h3 .icon {
      margin-right: 8px;
    }

    /* Filters Section */
    .filters-section {
      margin-bottom: 24px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .search-bar input {
      width: 100%;
      padding: 12px 16px;
      background: var(--navy-2);
      border: 1px solid rgba(215, 177, 97, 0.2);
      border-radius: 8px;
      color: var(--text-white);
      font-family: var(--font-body);
      font-size: 14px;
      transition: all 0.3s ease;
    }

    .search-bar input:focus {
      outline: none;
      border-color: var(--gold-primary);
      box-shadow: 0 0 0 3px rgba(215, 177, 97, 0.15);
    }

    .filter-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .filter-btn {
      padding: 8px 16px;
      background: var(--navy-2);
      color: var(--text-grey);
      border: 1px solid rgba(215, 177, 97, 0.2);
      border-radius: 8px;
      font-family: var(--font-body);
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .filter-btn:hover,
    .filter-btn.active {
      background: rgba(215, 177, 97, 0.15);
      color: var(--gold-primary);
      border-color: var(--gold-primary);
    }

    /* Items List */
    .items-list {
      background: var(--navy-2);
      border: 1px solid rgba(215, 177, 97, 0.1);
      border-radius: 16px;
      overflow: hidden;
    }

    .item-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 24px;
      background: var(--navy-1);
      border-bottom: 1px solid rgba(215, 177, 97, 0.05);
      border-left: 3px solid transparent;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .item-row:last-child {
      border-bottom: none;
    }

    .item-row:hover {
      background: var(--navy-2);
      border-left-color: var(--gold-primary);
      transform: translateX(4px);
    }

    .item-row-info {
      flex: 1;
    }

    .item-row-title {
      font-family: var(--font-body);
      font-size: 16px;
      font-weight: 600;
      color: var(--text-white);
      margin-bottom: 6px;
    }

    .item-row-meta {
      font-family: var(--font-body);
      font-size: 13px;
      color: var(--text-grey);
      font-weight: 400;
    }

    .empty-state {
      padding: 60px 20px;
      text-align: center;
      color: var(--text-grey);
      font-family: var(--font-body);
      font-size: 15px;
    }

    /* Responsive */
    @media (max-width: 968px) {
      .content-container {
        padding: 30px 20px;
      }

      .welcome-card {
        flex-direction: column;
        text-align: center;
        gap: 24px;
      }

      .welcome-card h2 {
        font-size: 32px;
      }

      .summary-cards {
        grid-template-columns: 1fr;
      }

      .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
      }
    }

    @media (max-width: 640px) {
      .top-header {
        padding: 15px 20px;
      }

      .content-container {
        padding: 20px 15px;
      }

      .welcome-card {
        padding: 28px 20px;
      }

      .welcome-card h2 {
        font-size: 28px;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Main Content Area -->
    <main class="main-content">
      <!-- Top Header Bar -->
      <header class="top-header">
        <div class="header-left">
          <div class="logo-mark-small">
            <img src="../logo.png" alt="Municipality Logo" class="app-logo" />
          </div>
          <span class="brand-name-small">MSS</span>
        </div>
        <h1 id="page-title">Dashboard</h1>
        <div class="header-right">
          <button class="icon-btn" id="notif-icon-btn" title="Notifications">
            <i class="fas fa-bell icon"></i>
            <span class="notification-badge" id="notif-badge">0</span>
          </button>
          <button class="icon-btn" id="user-menu-btn" title="Profile">
            <i class="fas fa-user icon"></i>
          </button>
          <button id="logout-btn" class="btn logout-btn">Logout</button>
        </div>
      </header>

      <!-- Content Container -->
      <div class="content-container">

        <!-- DASHBOARD TAB -->
        <div class="tab-content active" id="dashboard-tab">
          <!-- Welcome Section -->
          <section class="welcome-section">
            <div class="welcome-card">
              <div>
                <h2 id="welcome-name">Welcome back!</h2>
                <p id="welcome-date">Today is <span id="date-display"></span></p>
              </div>
              <div class="user-avatar">
                <i class="fas fa-user icon"></i>
              </div>
            </div>
          </section>

          <!-- Summary Cards -->
          <section class="summary-cards">
            <div class="summary-card">
              <div class="summary-icon">
                <i class="fas fa-file-lines icon"></i>
              </div>
              <div class="summary-info">
                <div class="summary-value" id="summary-requests">0</div>
                <div class="summary-label">Total Requests</div>
                <div class="summary-detail" id="summary-requests-detail">0 pending</div>
              </div>
            </div>
            <div class="summary-card">
              <div class="summary-icon">
                <i class="fas fa-comments icon"></i>
              </div>
              <div class="summary-info">
                <div class="summary-value" id="summary-complaints">0</div>
                <div class="summary-label">Complaints</div>
                <div class="summary-detail" id="summary-complaints-detail">0 pending</div>
              </div>
            </div>
            <div class="summary-card">
              <div class="summary-icon">
                <i class="fas fa-credit-card icon"></i>
              </div>
              <div class="summary-info">
                <div class="summary-value" id="summary-payments">0</div>
                <div class="summary-label">Payments</div>
                <div class="summary-detail" id="summary-payments-detail">No payments yet</div>
              </div>
            </div>
            <div class="summary-card">
              <div class="summary-icon">
                <i class="fas fa-bell icon"></i>
              </div>
              <div class="summary-info">
                <div class="summary-value" id="summary-notifications">0</div>
                <div class="summary-label">Notifications</div>
                <div class="summary-detail" id="summary-notifications-detail">0 unread</div>
              </div>
            </div>
          </section>

          <!-- Quick Actions -->
          <section class="quick-actions">
            <h3>Quick Actions</h3>
            <div class="action-grid">
              <button class="action-card" onclick="openModal('new-request-modal')">
                <span class="action-icon">
                  <i class="fas fa-pen-to-square icon"></i>
                </span>
                <span class="action-text">New Request</span>
              </button>
              <button class="action-card" onclick="window.location.href='complaints.html'">
                <span class="action-icon">
                  <i class="fas fa-triangle-exclamation icon"></i>
                </span>
                <span class="action-text">New Complaint</span>
              </button>
              <button class="action-card" onclick="window.location.href='payments.html'">
                <span class="action-icon">
                  <i class="fas fa-credit-card icon"></i>
                </span>
                <span class="action-text">Make Payment</span>
              </button>
              <button class="action-card" onclick="openModal('feedback-modal')">
                <span class="action-icon">
                  <i class="fas fa-message icon"></i>
                </span>
                <span class="action-text">Submit Feedback</span>
              </button>
            </div>
          </section>

          <!-- My Requests Section -->
          <section class="dashboard-section full-width" id="requests-section">
            <div class="section-header">
              <h3>My Requests</h3>
            </div>

            <div class="filters-section">
              <div class="search-bar">
                <input type="text" id="request-search" placeholder="Search requests..." />
              </div>
              <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="SUBMITTED">Submitted</button>
                <button class="filter-btn" data-filter="UNDER_REVIEW">Under Review</button>
                <button class="filter-btn" data-filter="APPROVED">Approved</button>
                <button class="filter-btn" data-filter="REJECTED">Rejected</button>
                <button class="filter-btn" data-filter="COMPLETED">Completed</button>
              </div>
            </div>

            <div id="requests-list" class="items-list">
              <div class="empty-state">Loading requests...</div>
            </div>
          </section>

          <!-- My Complaints Section -->
          <section class="dashboard-section full-width" id="complaints-section">
            <div class="section-header">
              <h3>My Complaints</h3>
            </div>

            <div class="filters-section">
              <div class="search-bar">
                <input type="text" id="complaint-search" placeholder="Search complaints..." />
              </div>
              <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="SUBMITTED">Submitted</button>
                <button class="filter-btn" data-filter="UNDER_REVIEW">Under Review</button>
                <button class="filter-btn" data-filter="RESOLVED">Resolved</button>
              </div>
            </div>

            <div id="complaints-list" class="items-list">
              <div class="empty-state">No complaints submitted yet</div>
            </div>
          </section>

          <!-- My Payments Section -->
          <section class="dashboard-section full-width" id="payments-section">
            <div class="section-header">
              <h3><i class="fas fa-credit-card icon"></i> My Payments</h3>
            </div>

            <div class="filters-section">
              <div class="search-bar">
                <input type="text" id="payment-search" placeholder="Search payments..." />
              </div>
              <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="COMPLETED">Completed</button>
                <button class="filter-btn" data-filter="PENDING">Pending</button>
                <button class="filter-btn" data-filter="FAILED">Failed</button>
              </div>
            </div>

            <div id="payments-list" class="items-list">
              <div class="empty-state">Loading payments...</div>
            </div>
          </section>

        </div>

        <!-- NOTIFICATIONS TAB -->
        <div class="tab-content" id="notifications-tab">
          <div class="tab-header">
            <h2>Notifications</h2>
            <button class="btn secondary-btn" onclick="switchTab('dashboard')" style="margin-left: auto;">← Back to Dashboard</button>
          </div>

          <div class="filters-section">
            <div class="filter-buttons">
              <button class="filter-btn active" data-filter="all">All</button>
              <button class="filter-btn" data-filter="unread">Unread</button>
              <button class="filter-btn" data-filter="read">Read</button>
            </div>
          </div>

          <div id="notifications-container" class="items-list">
            <div class="empty-state">No notifications</div>
          </div>
        </div>

      </div>
    </main>
  </div>

  <!-- MODALS -->

  <!-- New Request Modal -->
  <div class="modal" id="new-request-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Submit New Request</h2>
        <button class="modal-close" onclick="closeModal('new-request-modal')">&times;</button>
      </div>
      <form class="modal-form" id="new-request-form">
        <div class="form-row">
          <label for="request-type">Request Type *</label>
          <select id="request-type" required>
            <option value="">Select a request type</option>
            <option value="Building Permit">Building Permit</option>
            <option value="Business License">Business License</option>
            <option value="Birth Certificate">Birth Certificate</option>
            <option value="Marriage Certificate">Marriage Certificate</option>
            <option value="Residency Certificate">Residency Certificate</option>
            <option value="Tax Clearance">Tax Clearance</option>
            <option value="Land Registry">Land Registry</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="form-row">
          <label for="request-description">Description *</label>
          <textarea id="request-description" rows="4" placeholder="Describe your request..." required></textarea>
        </div>

        <div class="form-row">
          <label for="request-attachment">Attach Document (Optional)</label>
          <input type="file" id="request-attachment" accept=".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png" />
          <span class="hint">Accepted: PDF, DOC, DOCX, TXT, JPG, PNG (Max 5MB)</span>
        </div>

        <div id="request-modal-message" class="message"></div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Submit Request</button>
          <button type="button" class="btn btn-secondary" onclick="closeModal('new-request-modal')">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Request Detail Modal -->
  <div class="modal large" id="request-detail-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Request Details</h2>
        <button class="modal-close" onclick="closeModal('request-detail-modal')">&times;</button>
      </div>
      <div id="request-detail-content" class="modal-body">
        <!-- Content populated by JavaScript -->
      </div>
    </div>
  </div>

  <!-- Profile Modal -->
  <div class="modal" id="profile-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>My Profile</h2>
        <button class="modal-close" onclick="closeModal('profile-modal')">&times;</button>
      </div>
      <div class="modal-body">
        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 24px; padding-bottom: 20px; border-bottom: 1px solid rgba(212, 181, 101, 0.2);">
          <div style="width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; background: rgba(212, 181, 101, 0.15); border-radius: 12px;">
            <i class="fas fa-user icon" style="font-size: 1.5rem;"></i>
          </div>
          <div>
            <h3 id="profile-name" style="margin: 0; color: #f4d48a;"></h3>
            <p id="profile-email" style="margin: 4px 0; color: #d6d6d6; font-size: 14px;"></p>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
          <div class="form-group">
            <label>First Name</label>
            <input type="text" id="profile-firstname" />
          </div>

          <div class="form-group">
            <label>Last Name</label>
            <input type="text" id="profile-lastname" />
          </div>

          <div class="form-group">
            <label>Middle Name</label>
            <input type="text" id="profile-middlename" />
          </div>

          <div class="form-group">
            <label>National ID</label>
            <input type="text" id="profile-nationalid" disabled />
          </div>

          <div class="form-group">
            <label>Date of Birth</label>
            <input type="date" id="profile-dob" />
          </div>

          <div class="form-group">
            <label>Email</label>
            <input type="email" id="profile-email-input" />
          </div>

          <div class="form-group">
            <label>Phone</label>
            <input type="tel" id="profile-phone" />
          </div>

          <div class="form-group">
            <label>Father's Name</label>
            <input type="text" id="profile-fathername" />
          </div>

          <div class="form-group">
            <label>Mother's Name</label>
            <input type="text" id="profile-mothername" />
          </div>

          <div class="form-group">
            <label>Marital Status</label>
            <select id="profile-maritalstatus">
              <option value="">Select status</option>
              <option value="Single">Single</option>
              <option value="Married">Married</option>
              <option value="Divorced">Divorced</option>
              <option value="Widowed">Widowed</option>
            </select>
          </div>
        </div>

        <div class="form-group" style="margin-top: 16px; grid-column: 1 / -1;">
          <label>Address</label>
          <textarea id="profile-address" rows="2"></textarea>
        </div>

        <div id="profile-message" class="message"></div>

        <div class="form-actions">
          <button type="button" class="btn btn-secondary" onclick="closeModal('profile-modal')">Close</button>
          <button type="button" class="btn btn-primary" id="save-profile-btn">Save Changes</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Feedback Modal -->
  <div class="modal" id="feedback-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Submit Feedback</h2>
        <button class="modal-close" onclick="closeModal('feedback-modal')">&times;</button>
      </div>
      <form class="modal-form" id="feedback-form">
        <div class="form-row">
          <label for="feedback-rating">Rate Your Experience *</label>
          <div class="rating-container" id="rating-container">
            <span class="rating-star" data-rating="1">★</span>
            <span class="rating-star" data-rating="2">★</span>
            <span class="rating-star" data-rating="3">★</span>
            <span class="rating-star" data-rating="4">★</span>
            <span class="rating-star" data-rating="5">★</span>
          </div>
          <input type="hidden" id="feedback-rating-input" value="0" required />
        </div>

        <div class="form-row">
          <label for="feedback-type">Feedback Type *</label>
          <select id="feedback-type" required>
            <option value="">Select a type</option>
            <option value="Service Quality">Service Quality</option>
            <option value="Staff Behavior">Staff Behavior</option>
            <option value="Process Improvement">Process Improvement</option>
            <option value="Website/Portal">Website/Portal</option>
            <option value="General Suggestion">General Suggestion</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="form-row">
          <label for="feedback-comment">Your Feedback *</label>
          <textarea id="feedback-comment" rows="4" placeholder="Please share your feedback..." required minlength="10" maxlength="500"></textarea>
          <span class="hint" id="feedback-char-count">0/500 characters</span>
        </div>

        <div id="feedback-modal-message" class="message"></div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Submit Feedback</button>
          <button type="button" class="btn btn-secondary" onclick="closeModal('feedback-modal')">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Load utility scripts -->
  <script src="../js/api.js"></script>
  <script src="../js/auth.js"></script>
  <script src="../js/utils.js"></script>

  <!-- Page-specific logic -->
  <script src="../js/citizen-dashboard.js"></script>
</body>
</html>
